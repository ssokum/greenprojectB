<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/exampleLayout}">

<th:block layout:fragment="script">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.10/dist/sweetalert2.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.10/dist/sweetalert2.min.js"></script>


  <script>
    function enableVerificationInputs() {
      document.getElementById('verifyCode').disabled = false;
      document.getElementById('verificationCode').disabled = false;
    }

    function showModal(message, icon = 'warning') {
      Swal.fire({
        icon: icon,
        text: message,
        confirmButtonText: '확인',
        customClass: {
          confirmButton: 'btn btn-primary'
        },
        buttonsStyling: false
      });
    }



    // 싱글파일 업로드 체크
    function fCheck() {
      let fName = document.getElementById("sFile").value;
      let maxSize = 1024 * 1024 * 10;   // 저장파일 최대용량을 10MByte까지로 제한
      let ext = fName.substring(fName.lastIndexOf(".")+1).toLowerCase();

      if(fName.trim() == "") {
        alert("업로드할 파일을 선택하세요");
        return false;
      }

      let fileSize = document.getElementById("sFile").files[0].size;
      if(fileSize > maxSize) {
        alert("업로드할 파일의 최대용량은 10MByte 입니다.");
      }
      else if(ext != 'jpg' && ext != 'gif' && ext != 'png' && ext != 'hwp' && ext != 'zip' && ext != 'ppt' && ext != 'pptx') {
        alert("업로드 가능한 파일은 'jpg/gif/png/hwp/zip/ppt/pptx/'만 가능합니다.");
      }
      else {
        alert("갑니다.");
        fileForm.submit();
      }
    }

  </script>
</th:block>


<div layout:fragment="content" class="container">
  <h2 class="text-center mb-4">(기업)회 원 가 입</h2>
  <form name="fileForm" method="post" enctype="multipart/form-data" >
    <div class="form-group mb-3">
      <label>아이디</label>
      <input type="text" name="company_id" class="form-control" placeholder="아이디를 입력해주세요">
    </div>
    <div class="form-group mb-3">
      <label for="password">비밀번호</label>
      <input type="password" name="password" id="password" class="form-control" placeholder="비밀번호 입력">
    </div>

    <div class="form-group mb-3">
      <label>회사이름</label>
      <input type="text" name="company_name" class="form-control" placeholder="이름을 입력해주세요">
    </div>
    <div class="form-group mb-3">
      <label>사업자번호</label>
      <input type="text" name="business_number" class="form-control" placeholder="이름을 입력해주세요">
    </div>
    <div class="form-group mb-3">
      <label>대표자이름</label>
      <input type="text" name="ceo_name" class="form-control" placeholder="이름을 입력해주세요">
    </div>
    <div class="form-group mb-3">
      <label>주소</label>
      <input type="text" name="address" id="address" class="form-control" placeholder="이름을 입력해주세요">
    </div>


    <div class="form-group mb-3">
      <label>이메일주소</label>
      <input type="email" name="company_email" class="form-control" placeholder="이메일을 입력해주세요">
    </div>
    <div class="form-group mb-3">
      <label>홈페이지주소</label>
      <input type="text" name="company_homepage" class="form-control" placeholder="이메일을 입력해주세요">
    </div>

    <div class="form-group mb-3">
      <label>연락처</label>
      <input type="text"  name="phone_number" class="form-control" placeholder="번호를 입력해주세요">
    </div>
    <div class="form-group mb-3">
      <label>팩스번호</label>
      <input type="text" name="fax_number" class="form-control" placeholder="번호를 입력해주세요">
    </div>
    <div class="form-group mb-3">
      <input type="file" name="sFile" id="sFile" accept=".jpg,.gif,.png,.zip,.hwp,.ppt,.ppx" class="form-control">
    </div>
    <div class="mb-3" style="text-align: center">
      <button type="button" onclick="fCheck()" class="btn btn-primary">업체회원가입</button>
      <button type="button" th:onclick="|location.href='@{/member/memberLogin}'|" class="btn btn-warning">돌아가기</button>
      <button type="button" onclick="document.getElementById('telAuthentication').style.display='block'" class="btn btn-success">전화인증</button>
    </div>
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf?.token}" />
  </form>

</div>

<hr/>

<hr/>


</html>